<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ğŸ° æ˜Ÿå¦ç§˜å¯†å°å±‹ Â· v6</title>
  <meta name="description" content="å®‡å®™ç”Ÿç”Ÿä¸æ¯ï¼Œç¥ä½ åšä¸ªå¥½æ¢¦ã€‚åªå±äºæ˜Ÿæ˜Ÿâœ¨å¸ƒçµå¸ƒçµ & å°å¦å¬åˆ°è¯·å›ç­” Â· v6" />
  <style>
    :root{
      --bg:#fbf7f0;
      --paper:#fffdf7;
      --card:#ffffffcc;
      --shadow: 0 14px 50px rgba(35, 21, 70, .10);
      --stroke: rgba(120, 95, 150, .18);
      --text:#2b2237;
      --muted:#6b5a7a;
      --star:#ffcf4d;
      --pink:#ffb7c6;
      --violet:#8f7dff;
      --ink:#2c2a40;
      --candle:#caa35f;
      --leaf:#3f7a6a;
      --danger:#d35252;
      --ok:#2a9d6f;
      --radius: 22px;
      --radius2: 18px;
      --blur: blur(14px);
      --fontCute: ui-rounded, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", system-ui, -apple-system, Segoe UI, Roboto, Arial;
      --fontSerif: "Songti SC", "STSong", "Noto Serif SC", serif;
      --bgimg: url('assets/bg_v6_forest.png');
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: var(--fontCute);
      color: var(--text);
      background:
        radial-gradient(1200px 600px at 15% 5%, rgba(255, 183, 198,.55), transparent 55%),
        radial-gradient(1200px 650px at 85% 10%, rgba(143, 125, 255,.30), transparent 55%),
        radial-gradient(1100px 700px at 50% 95%, rgba(255, 207, 77,.25), transparent 58%),
        linear-gradient(180deg, #fffdf8 0%, #f6f3ff 40%, #fff7f8 100%);
      overflow-x:hidden;
    }

    /* subtle paper grain */
    body:before{
      content:"";
      position:fixed; inset:0;
      pointer-events:none;
      background-image: var(--bgimg);
      background-size: cover;
      background-position:center;
      opacity: .18;
      filter: saturate(1.1) contrast(.95);
      transform: scale(1.03);
    }

    .wrap{position:relative; min-height:100%;}
    body[data-bg="day"]{ --bgimg: url('assets/bg_day.png'); }
    body[data-bg="star"]{ --bgimg: url('assets/bg_star_pastel.png'); }
    body[data-bg="inkleaf"]{ --bgimg: url('assets/bg_inkleaf.png'); }
    body[data-bg="night"]{ --bgimg: url('assets/bg_night.png'); }
    body[data-bg="inkgarden"]{ --bgimg: url('assets/bg_inkgarden.png'); }
    body[data-bg="forest"]{ --bgimg: url('assets/bg_v6_forest.png'); }
    body[data-bg="umbrella"]{ --bgimg: url('assets/bg_v6_umbrella.png'); }
    body[data-bg="ocean"]{ --bgimg: url('assets/bg_ocean.webp'); }
    body[data-bg="attic"]{ --bgimg: url('assets/bg_v6_attic.png'); }
    body[data-bg="film"]{ --bgimg: url('assets/bg_v6_film.png'); }


    /* Top bar */
    .topbar{
      position:sticky; top:0; z-index:30;
      background: rgba(255,255,255,.55);
      backdrop-filter: var(--blur);
      border-bottom: 1px solid var(--stroke);
    }
    .topbar-inner{
      max-width: 980px;
      margin: 0 auto;
      padding: 10px 14px;
      display:flex;
      align-items:center;
      gap:12px;
      justify-content:space-between;
    }
    .brand{
      display:flex; align-items:center; gap:10px;
      min-width: 220px;
    }
    .brand .mark{
      width:40px; height:40px;
      border-radius: 16px;
      background:
        radial-gradient(circle at 30% 30%, rgba(255,207,77,.95), rgba(255,183,198,.35) 55%, transparent 60%),
        linear-gradient(135deg, rgba(143,125,255,.25), rgba(255,255,255,.7));
      border: 1px solid rgba(255, 207, 77,.55);
      box-shadow: 0 10px 30px rgba(255, 207, 77,.15);
      display:flex; align-items:center; justify-content:center;
    }
    .brand .title{
      line-height:1.1;
    }
    .brand .title h1{
      margin:0;
      font-size: 15px;
      letter-spacing: .8px;
      font-family: var(--fontSerif);
    }
    .brand .title p{
      margin:0;
      font-size: 12px;
      color: var(--muted);
    }

    .presence{
      display:flex; align-items:center; gap:10px;
    }
    .pill{
      border: 1px solid var(--stroke);
      background: rgba(255,255,255,.65);
      border-radius: 999px;
      padding: 6px 10px;
      display:flex; align-items:center; gap:8px;
      box-shadow: 0 10px 30px rgba(35,21,70,.06);
    }
    .dot{
      width: 10px; height: 10px; border-radius: 999px;
      background: #4ade80;
      box-shadow: 0 0 0 6px rgba(74,222,128,.16);
      animation: pulse 1.4s ease-in-out infinite;
    }
    @keyframes pulse{ 0%,100%{transform:scale(.95); opacity:.85} 50%{transform:scale(1.08); opacity:1} }

    .seg{
      display:flex; gap:6px;
      padding: 5px;
      border-radius: 999px;
      border: 1px solid var(--stroke);
      background: rgba(255,255,255,.55);
      backdrop-filter: var(--blur);
    }
    .seg button{
      border:0; background:transparent;
      padding: 7px 10px;
      border-radius: 999px;
      cursor:pointer;
      font-size: 12px;
      color: var(--muted);
      display:flex; align-items:center; gap:6px;
    }
    .seg button.active{
      background: rgba(255,255,255,.9);
      color: var(--text);
      box-shadow: 0 10px 30px rgba(35,21,70,.08);
      border: 1px solid rgba(143,125,255,.18);
    }

    .actions{
      display:flex; align-items:center; gap:8px;
    }
    .iconbtn{
      border: 1px solid var(--stroke);
      background: rgba(255,255,255,.7);
      backdrop-filter: var(--blur);
      border-radius: 14px;
      padding: 10px 10px;
      cursor:pointer;
      box-shadow: 0 10px 30px rgba(35,21,70,.06);
      display:flex; align-items:center; gap:8px;
      font-size:12px;
      color: var(--text);
    }
    .iconbtn:hover{ transform: translateY(-1px); }

    /* Layout */
    .grid{
      max-width: 980px;
      margin: 0 auto;
      padding: 16px 14px 96px;
      display:grid;
      grid-template-columns: 1.1fr .9fr;
      gap: 14px;
    }

    @media (max-width: 920px){
      .grid{ grid-template-columns: 1fr; }
      .brand{min-width: unset}
    }

    .card{
      background: rgba(255,255,255,.55);
      backdrop-filter: var(--blur);
      border: 1px solid var(--stroke);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow:hidden;
    }

    .section-h{
      padding: 14px 14px 10px;
      display:flex; align-items:center; justify-content:space-between;
      gap:10px;
      border-bottom: 1px solid rgba(120,95,150,.12);
      background:
        radial-gradient(120px 60px at 20% 0%, rgba(255,207,77,.20), transparent 65%),
        radial-gradient(140px 80px at 85% 0%, rgba(143,125,255,.18), transparent 70%);
    }
    .section-h .left{display:flex; align-items:center; gap:10px;}
    .section-h .badge{
      width: 34px; height: 34px; border-radius: 14px;
      display:flex; align-items:center; justify-content:center;
      border: 1px solid rgba(143,125,255,.18);
      background: rgba(255,255,255,.65);
    }
    .section-h h2{
      margin:0;
      font-size: 14px;
      font-family: var(--fontSerif);
      letter-spacing: .6px;
    }
    .section-h p{
      margin:0;
      font-size: 12px;
      color: var(--muted);
    }

    .section-body{ padding: 14px; }

    /* Welcome modal */
    .modal-backdrop{
      position:fixed; inset:0; z-index:60;
      background: rgba(17, 12, 28, .42);
      backdrop-filter: blur(10px);
      display:none;
      align-items:center; justify-content:center;
      padding: 16px;
    }
    .modal-backdrop.show{ display:flex; }
    .modal{
      width: min(880px, 100%);
      border-radius: 28px;
      overflow:hidden;
      border: 1px solid rgba(255,255,255,.35);
      box-shadow: 0 30px 120px rgba(17, 12, 28, .35);
      background:
        radial-gradient(700px 380px at 20% 20%, rgba(255,183,198,.65), transparent 60%),
        radial-gradient(700px 380px at 80% 15%, rgba(143,125,255,.45), transparent 60%),
        linear-gradient(180deg, rgba(255,255,255,.95), rgba(255,255,255,.85));
      backdrop-filter: blur(18px);
    }
    .modal-top{
      padding: 18px 18px 12px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      border-bottom: 1px solid rgba(120,95,150,.14);
    }
    .modal-top .copy{
      font-family: var(--fontSerif);
    }
    .modal-top h3{margin:0; font-size: 16px; letter-spacing:.6px;}
    .modal-top p{margin:4px 0 0; font-size:12px; color: var(--muted)}

    .modal-main{ padding: 14px 18px 18px; display:grid; gap: 12px; grid-template-columns: 1fr 1fr; }
    @media (max-width: 820px){ .modal-main{ grid-template-columns: 1fr; } }

    .hero{
      display:flex; flex-direction:column; gap:10px;
      padding: 14px;
      border: 1px solid rgba(120,95,150,.14);
      border-radius: 22px;
      background: rgba(255,255,255,.55);
    }
    .hero .line{
      font-size: 13px;
      color: rgba(43,34,55,.86);
    }

    .join{
      display:flex; gap:10px; align-items:flex-end; flex-wrap:wrap;
    }
    .join .field{ flex: 1; min-width: 180px; }
    label{ display:block; font-size:12px; color: var(--muted); margin: 0 0 6px; }
    input,textarea,select{
      width: 100%;
      padding: 12px 12px;
      border-radius: 16px;
      border: 1px solid rgba(120,95,150,.20);
      background: rgba(255,255,255,.82);
      color: var(--text);
      outline:none;
      font-size: 13px;
    }
    textarea{ resize:none; }
    input:focus,textarea:focus,select:focus{ border-color: rgba(143,125,255,.55); box-shadow: 0 0 0 6px rgba(143,125,255,.12); }

    .primary{
      border:0;
      cursor:pointer;
      padding: 12px 16px;
      border-radius: 999px;
      font-weight: 700;
      color: #2b2237;
      background: linear-gradient(135deg, rgba(255,207,77,.95), rgba(255,183,198,.85));
      box-shadow: 0 14px 40px rgba(255,183,198,.20);
      display:flex; align-items:center; gap:8px;
    }
    .primary:hover{ transform: translateY(-1px); }

    .ghost{
      border:1px solid rgba(120,95,150,.18);
      cursor:pointer;
      padding: 10px 14px;
      border-radius: 999px;
      color: var(--text);
      background: rgba(255,255,255,.65);
    }

    .twopick{ display:grid; grid-template-columns: 1fr 1fr; gap: 12px; }
    @media (max-width: 520px){ .twopick{ grid-template-columns: 1fr; } }

    .who{
      border-radius: 22px;
      border: 1px solid rgba(120,95,150,.14);
      background: rgba(255,255,255,.60);
      padding: 14px;
      display:flex;
      gap:12px;
      align-items:center;
      cursor:pointer;
      position:relative;
      overflow:hidden;
      min-height: 92px;
    }
    .who:before{
      content:"";
      position:absolute; inset:-40px -40px auto auto;
      width: 180px; height: 180px;
      background: radial-gradient(circle at 30% 30%, rgba(255,207,77,.35), transparent 60%),
                  radial-gradient(circle at 70% 70%, rgba(143,125,255,.20), transparent 60%);
      transform: rotate(15deg);
      opacity:.75;
    }
    .who.star:after{
      content:"";
      position:absolute; inset:auto -20px -20px auto;
      width: 120px; height: 120px;
      background: url('assets/star_big.png') no-repeat center / contain;
      opacity:.18;
      transform: rotate(-10deg);
    }
    .who.yan:after{
      content:"";
      position:absolute; inset:auto -10px -10px auto;
      width: 140px; height: 140px;
      background: url('assets/leaf.png') no-repeat center / contain;
      opacity:.18;
      transform: rotate(8deg);
    }
    .who.active{ outline: 3px solid rgba(143,125,255,.30); box-shadow: 0 18px 60px rgba(143,125,255,.16); }

    .avatar{
      width: 58px; height: 58px;
      border-radius: 18px;
      border: 1px solid rgba(120,95,150,.18);
      background: rgba(255,255,255,.7);
      overflow:hidden;
      box-shadow: 0 12px 30px rgba(35,21,70,.10);
      flex: 0 0 auto;
    }
    .avatar img{ width:100%; height:100%; object-fit: cover; display:block; }

    .who .meta{ position:relative; z-index:1; }
    .who .meta .name{ font-weight:800; font-size: 13px; }
    .who .meta .desc{ font-size: 12px; color: var(--muted); margin-top: 2px; }
    .who .chips{ margin-top: 8px; display:flex; gap: 6px; flex-wrap:wrap; }
    .chip{ font-size: 11px; padding: 5px 8px; border-radius: 999px; border:1px solid rgba(120,95,150,.14); background: rgba(255,255,255,.65); color: rgba(43,34,55,.86); }

    /* Tabs */
    .tabs{
      position: sticky;
      top: 64px;
      z-index: 20;
      display:flex;
      gap: 8px;
      padding: 10px 14px;
      max-width: 980px;
      margin: 0 auto;
      backdrop-filter: var(--blur);
    }
    .tabbar{
      flex:1;
      border: 1px solid rgba(120,95,150,.16);
      background: rgba(255,255,255,.60);
      border-radius: 999px;
      padding: 6px;
      display:flex;
      gap: 6px;
      overflow:auto;
      box-shadow: 0 12px 34px rgba(35,21,70,.06);
    }
    .tab{
      border:0; cursor:pointer; white-space:nowrap;
      padding: 9px 12px;
      border-radius: 999px;
      font-size: 12px;
      color: var(--muted);
      background: transparent;
      display:flex; align-items:center; gap:7px;
    }
    .tab.active{
      background: rgba(255,255,255,.92);
      color: var(--text);
      box-shadow: 0 10px 24px rgba(35,21,70,.08);
      border: 1px solid rgba(255, 207, 77, .32);
    }

    /* Left: timeline */
    .timeline{ display:flex; flex-direction:column; gap: 12px; }

    .composer{
      border-radius: var(--radius);
      border: 1px dashed rgba(120,95,150,.22);
      background: rgba(255,255,255,.55);
      padding: 12px;
      display:flex;
      gap: 10px;
      align-items:flex-start;
    }
    .composer .miniAva{
      width: 42px; height: 42px;
      border-radius: 16px;
      overflow:hidden;
      border: 1px solid rgba(120,95,150,.16);
      background: rgba(255,255,255,.75);
      flex: 0 0 auto;
    }
    .composer .miniAva img{ width:100%; height:100%; object-fit: cover; }

    .composer .col{ flex:1; }
    .row{ display:flex; gap: 8px; align-items:center; flex-wrap:wrap; }
    .row .small{ font-size: 12px; color: var(--muted); }

    .typepick{
      display:flex; gap: 8px; flex-wrap:wrap;
    }
    .typebtn{
      border: 1px solid rgba(120,95,150,.16);
      background: rgba(255,255,255,.7);
      border-radius: 999px;
      padding: 7px 10px;
      font-size: 12px;
      cursor:pointer;
      display:flex; align-items:center; gap: 7px;
      color: var(--text);
    }
    .typebtn.active{ border-color: rgba(143,125,255,.40); box-shadow: 0 12px 24px rgba(143,125,255,.10); }

    .composer textarea{ min-height: 86px; }

    .tools{
      display:flex; justify-content:space-between; align-items:center; gap: 10px; margin-top: 8px;
    }

    .reactbar{ display:flex; gap: 6px; flex-wrap:wrap; }
    .react{
      border: 1px solid rgba(120,95,150,.14);
      background: rgba(255,255,255,.75);
      border-radius: 999px;
      padding: 6px 8px;
      cursor:pointer;
      font-size: 12px;
      display:flex; align-items:center; gap: 6px;
    }
    .react img{ width: 16px; height: 16px; object-fit:contain; }

    /* Audio */
    .rec{
      display:flex; align-items:center; gap: 8px;
      padding: 6px 8px;
      border-radius: 999px;
      border: 1px solid rgba(120,95,150,.16);
      background: rgba(255,255,255,.75);
    }
    .rec button{
      border:0; cursor:pointer;
      width: 30px; height: 30px;
      border-radius: 999px;
      background: rgba(255,183,198,.55);
      display:flex; align-items:center; justify-content:center;
      box-shadow: 0 10px 22px rgba(255,183,198,.18);
    }
    .rec button.on{ background: rgba(211,82,82,.18); }
    .rec .bar{
      width: 86px; height: 8px;
      border-radius: 999px;
      background: rgba(143,125,255,.12);
      overflow:hidden;
      position:relative;
    }
    .rec .bar i{
      position:absolute; inset:0;
      background: linear-gradient(90deg, rgba(255,207,77,.85), rgba(143,125,255,.55));
      width: 0%;
    }

    /* Entries */
    .entry{
      padding: 12px;
      border-radius: var(--radius);
      border: 1px solid rgba(120,95,150,.14);
      background: rgba(255,255,255,.60);
      box-shadow: 0 10px 26px rgba(35,21,70,.05);
      position:relative;
      overflow:hidden;
    }
    .entry.star{ border-color: rgba(255,207,77,.30); }
    .entry.yan{ border-color: rgba(202,163,95,.26); }

    .entry:before{
      content:"";
      position:absolute; inset:-80px -120px auto auto;
      width: 240px; height: 240px;
      background:
        radial-gradient(circle at 30% 30%, rgba(255,207,77,.22), transparent 60%),
        radial-gradient(circle at 70% 70%, rgba(143,125,255,.14), transparent 60%);
      transform: rotate(18deg);
      opacity:.75;
      pointer-events:none;
    }
    .entry.yan:before{
      background:
        radial-gradient(circle at 35% 30%, rgba(202,163,95,.18), transparent 60%),
        radial-gradient(circle at 70% 70%, rgba(63,122,106,.14), transparent 60%);
    }

    .entry-head{ display:flex; align-items:center; justify-content:space-between; gap:10px; position:relative; z-index:1; }
    .entry-who{ display:flex; align-items:center; gap:10px; }
    .entry-who .tiny{
      width: 36px; height: 36px;
      border-radius: 14px;
      border: 1px solid rgba(120,95,150,.16);
      overflow:hidden;
      background: rgba(255,255,255,.75);
    }
    .entry-who .tiny img{ width:100%; height:100%; object-fit:cover; }
    .entry-who .name{ font-weight: 900; font-size: 12px; }
    .entry-who .time{ font-size: 11px; color: var(--muted); }

    .tag{
      font-size: 11px;
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid rgba(120,95,150,.14);
      background: rgba(255,255,255,.72);
      color: rgba(43,34,55,.88);
      display:flex; align-items:center; gap: 6px;
    }

    .entry-body{ margin-top: 10px; position:relative; z-index:1; }
    .entry-body .txt{ font-size: 13px; line-height: 1.65; white-space: pre-wrap; }

    .studybox, .readbox{
      margin-top: 10px;
      border-radius: 18px;
      border: 1px solid rgba(120,95,150,.12);
      background: rgba(255,255,255,.70);
      padding: 10px;
    }
    .studybox h4,.readbox h4{ margin:0 0 8px; font-size: 12px; letter-spacing:.3px; }
    .kvs{ display:grid; grid-template-columns: repeat(3, 1fr); gap: 8px; }
    .kv{ padding: 8px; border-radius: 14px; border: 1px solid rgba(120,95,150,.12); background: rgba(255,255,255,.65); }
    .kv .k{ font-size: 10px; color: var(--muted); }
    .kv .v{ font-size: 12px; font-weight: 800; margin-top: 3px; }

    .quote{ margin: 8px 0; padding-left: 10px; border-left: 3px solid rgba(143,125,255,.28); color: rgba(43,34,55,.90); font-style: italic; }
    .q{ background: rgba(143,125,255,.10); border: 1px solid rgba(143,125,255,.16); padding: 8px; border-radius: 14px; color: rgba(43,34,55,.92); font-size: 12px; }

    .entry-foot{ margin-top: 12px; display:flex; align-items:center; justify-content:space-between; gap:10px; position:relative; z-index:1; }
    .miniReacts{ display:flex; gap: 8px; flex-wrap:wrap; }
    .miniReacts button{
      border: 1px solid rgba(120,95,150,.14);
      background: rgba(255,255,255,.76);
      border-radius: 999px;
      padding: 6px 10px;
      cursor:pointer;
      font-size: 12px;
      display:flex; align-items:center; gap: 6px;
    }

    .commentBox{ margin-top: 10px; display:none; }
    .commentBox.show{ display:block; }
    .commentRow{ display:flex; gap: 8px; margin-top: 8px; }
    .commentRow .bubble{
      flex:1;
      border-radius: 18px;
      border: 1px solid rgba(120,95,150,.14);
      background: rgba(255,255,255,.72);
      padding: 10px;
      position:relative;
      overflow:hidden;
    }
    .commentRow.star .bubble:before{
      content:"";
      position:absolute; inset:-60px -80px auto auto;
      width: 160px; height: 160px;
      background: radial-gradient(circle at 30% 30%, rgba(255,207,77,.22), transparent 60%), radial-gradient(circle at 60% 70%, rgba(255,183,198,.18), transparent 60%);
      transform: rotate(-12deg);
      opacity:.8;
    }
    .commentRow.yan .bubble:before{
      content:"";
      position:absolute; inset:-70px -90px auto auto;
      width: 180px; height: 180px;
      background: radial-gradient(circle at 35% 30%, rgba(202,163,95,.16), transparent 60%), radial-gradient(circle at 60% 70%, rgba(63,122,106,.14), transparent 60%);
      transform: rotate(10deg);
      opacity:.85;
    }

    .commentRow .bubble .t{
      font-size: 12px;
      line-height: 1.55;
      white-space: pre-wrap;
      position:relative; z-index:1;
    }

    .commentRow .stamp{
      width: 42px; height: 42px;
      border-radius: 16px;
      border: 1px solid rgba(120,95,150,.16);
      background: rgba(255,255,255,.75);
      display:flex; align-items:center; justify-content:center;
      overflow:hidden;
      box-shadow: 0 10px 22px rgba(35,21,70,.07);
      flex:0 0 auto;
      position:relative;
    }
    .commentRow .stamp img{ width:100%; height:100%; object-fit: cover; }

    .commentComposer{ display:flex; gap: 8px; align-items:flex-end; margin-top: 10px; }
    .commentComposer textarea{ min-height: 54px; }

    .smallbtn{
      border:0; cursor:pointer;
      padding: 10px 12px;
      border-radius: 16px;
      font-weight: 800;
      color: rgba(43,34,55,.92);
      background: rgba(255,255,255,.90);
      border: 1px solid rgba(120,95,150,.18);
      box-shadow: 0 10px 24px rgba(35,21,70,.06);
      min-width: 88px;
    }

    .hint{ font-size: 12px; color: var(--muted); }

    /* Right column panels */
    .side{ display:flex; flex-direction:column; gap: 14px; }

    /* Calendar */
    .cal{
      padding: 12px;
      background: rgba(255,255,255,.55);
      border-radius: var(--radius);
      border: 1px solid rgba(120,95,150,.14);
      position:relative;
      overflow:hidden;
    }
    .cal:before{
      content:"";
      position:absolute; inset:0;
      background: url('assets/calendar_frame.png') no-repeat center / cover;
      opacity: .13;
      pointer-events:none;
      filter: saturate(1.05);
    }
    .cal .top{ display:flex; align-items:center; justify-content:space-between; gap:10px; position:relative; z-index:1; }
    .cal .month{ font-family: var(--fontSerif); font-weight: 900; letter-spacing: .8px; }
    .cal .nav{ display:flex; gap: 8px; }
    .cal .nav button{
      width: 34px; height: 34px;
      border-radius: 14px;
      border: 1px solid rgba(120,95,150,.18);
      background: rgba(255,255,255,.76);
      cursor:pointer;
      box-shadow: 0 10px 22px rgba(35,21,70,.05);
    }
    .calgrid{ margin-top: 10px; display:grid; grid-template-columns: repeat(7, 1fr); gap: 8px; position:relative; z-index:1; }
    .dow{ font-size: 11px; color: var(--muted); text-align:center; }
    .day{
      width: 100%;
      aspect-ratio: 1 / 1;
      border-radius: 999px;
      border: 1px dashed rgba(120,95,150,.18);
      background: rgba(255,255,255,.45);
      display:flex; align-items:center; justify-content:center;
      position:relative;
      cursor:pointer;
      user-select:none;
    }
    .day .n{ font-size: 12px; font-weight: 800; color: rgba(43,34,55,.78); }
    .day.has{ border-style: solid; }
    .day.has .n{ color: rgba(43,34,55,.92); }
    .day.sel{ outline: 3px solid rgba(143,125,255,.22); }
    .mark{
      position:absolute; inset:auto 0 6px 0;
      display:flex; justify-content:center; gap: 4px;
    }
    .m{
      width: 8px; height: 8px; border-radius: 999px;
      border: 1px solid rgba(255,255,255,.65);
      box-shadow: 0 6px 16px rgba(35,21,70,.10);
    }
    .m.star{ background: rgba(255, 207, 77, .95); }
    .m.yan{ background: rgba(202, 163, 95, .95); }
    .m.daily{ background: rgba(255, 183, 198, .95); }
    .m.study{ background: rgba(143, 125, 255, .90); }
    .m.read{ background: rgba(63, 122, 106, .85); }

    .calnote{ margin-top: 10px; font-size: 12px; color: var(--muted); position:relative; z-index:1; }

    /* Theme switch */
    .themes{ display:grid; grid-template-columns: 1fr 1fr; gap: 10px; }
    @media (max-width: 420px){ .themes{ grid-template-columns: 1fr; } }

    .themeCard{
      border-radius: 20px;
      border: 1px solid rgba(120,95,150,.14);
      background: rgba(255,255,255,.60);
      overflow:hidden;
      cursor:pointer;
      box-shadow: 0 12px 30px rgba(35,21,70,.05);
      position:relative;
      padding: 10px;
      min-height: 90px;
    }
    .themeCard:before{ content:""; position:absolute; inset:0; opacity:.92; pointer-events:none; background-size:cover; background-position:center; filter: saturate(1.08) contrast(.98); }
    .themeCard .cap{ position:relative; z-index:1; display:flex; flex-direction:column; gap:4px; }
    .themeCard .cap b{ font-family: var(--fontSerif); }
    .themeCard .cap span{ font-size: 12px; color: rgba(43,34,55,.72); }
    .themeCard.active{ outline: 3px solid rgba(255,207,77,.22); }

    /* Toast */
    .toast{
      position:fixed;
      left:50%;
      bottom: 18px;
      transform: translateX(-50%);
      z-index: 80;
      display:none;
      padding: 10px 12px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.35);
      background: rgba(17,12,28,.55);
      backdrop-filter: blur(14px);
      color: rgba(255,255,255,.92);
      box-shadow: 0 20px 70px rgba(17,12,28,.35);
      font-size: 12px;
    }
    .toast.show{ display:block; animation: up .2s ease-out; }
    @keyframes up{ from{opacity:0; transform: translateX(-50%) translateY(8px);} to{opacity:1; transform: translateX(-50%) translateY(0);} }

    /* Footer help */
    .foothelp{
      max-width:980px;
      margin: 0 auto;
      padding: 0 14px 18px;
      color: rgba(43,34,55,.55);
      font-size: 12px;
      text-align:center;
      position:relative;
    }

    .hidden{display:none !important;}

    /* Chat */
    .chatList{display:flex; flex-direction:column; gap:10px; max-height: 56vh; overflow:auto; padding-right:4px;}
    .chatMsg{display:flex; gap:10px; align-items:flex-end;}
    .chatMsg .stamp{width:42px; height:42px; border-radius:16px; border:1px solid rgba(120,95,150,.16); background: rgba(255,255,255,.75); display:flex; align-items:center; justify-content:center; overflow:hidden; box-shadow: 0 10px 22px rgba(35,21,70,.07); flex:0 0 auto; position:relative;}
    .chatMsg .stamp img{width:100%; height:100%; object-fit:cover;}
    .chatMsg .bubble{flex:1; border-radius: 18px; border: 1px solid rgba(120,95,150,.14); background: rgba(255,255,255,.72); padding: 10px; position:relative; overflow:hidden;}
    .chatMsg.star .bubble:before{content:""; position:absolute; inset:-60px -80px auto auto; width:160px; height:160px; background: radial-gradient(circle at 30% 30%, rgba(255,207,77,.22), transparent 60%), radial-gradient(circle at 60% 70%, rgba(255,183,198,.18), transparent 60%); transform: rotate(-10deg); opacity:.85;}
    .chatMsg.yan .bubble:before{content:""; position:absolute; inset:-70px -90px auto auto; width:180px; height:180px; background: radial-gradient(circle at 35% 30%, rgba(202,163,95,.16), transparent 60%), radial-gradient(circle at 60% 70%, rgba(63,122,106,.14), transparent 60%); transform: rotate(10deg); opacity:.85;}
    .chatMsg .t{font-size:13px; line-height:1.6; white-space:pre-wrap; position:relative; z-index:1;}
    .chatMsg .meta{font-size:11px; color:var(--muted); margin-top:6px; display:flex; gap:8px; align-items:center; position:relative; z-index:1;}
    .chatMsg .meta button{border:0; background:transparent; cursor:pointer; color:var(--muted); font-size:11px; padding:0;}
    .replyBar{margin:10px 0 8px; padding:10px; border-radius:16px; border:1px dashed rgba(120,95,150,.22); background: rgba(255,255,255,.55); display:flex; justify-content:space-between; align-items:center; gap:10px;}
    .replyBar .rt{font-size:12px; color:rgba(43,34,55,.85); white-space:nowrap; overflow:hidden; text-overflow:ellipsis;}
    .replyBar .rc{border:0; background:transparent; cursor:pointer; color:var(--danger); font-weight:900;}
    .cReply{border:0; background:transparent; cursor:pointer; color:var(--muted); font-size:11px; padding:0;}
    .cReply:hover{color:rgba(43,34,55,.92);}
    .replyQuote{margin: 0 0 8px; padding: 8px 10px; border-radius:14px; border:1px solid rgba(143,125,255,.16); background: rgba(143,125,255,.08); font-size:12px; color:rgba(43,34,55,.86);}

    /* Hide scrollbars for tabbar */
    .tabbar::-webkit-scrollbar{ height: 0; }
  
/* ===========================
   v6 ç«¥è¯ Ã— å¤é£ï¼šæ•´ç«™â€œåŒä¸€ç”»å¸ƒâ€
   æ ¸å¿ƒï¼šæ°´å½©åº•çº¹ + é‡‘è‰²è¾¹æ¡†/è§’é¥° + æ˜Ÿå°˜ç²’å­ + çº¸å¼ å¡ç‰‡
   ä»…æ”¹UIï¼šé¢œè‰²/å­—ä½“/åº•çº¹/èƒŒæ™¯å±‚ï¼ˆåŠŸèƒ½æ²¿ç”¨ v5 é€»è¾‘ï¼‰
   =========================== */

:root{
  --fontMain: var(--fontCute);
  --fontDisplay: var(--fontCute);
  --tex: url('assets/tex_grain.png');
  --fibers: url('assets/tex_fibers.png');
  --texCool: url('assets/tex_grain_cool.png');
  --fibersCool: url('assets/tex_fibers_cool.png');

  --paperWarm: rgba(255,253,247,.78);
  --paperCool: rgba(244,250,255,.72);

  --strokeSoft: rgba(43,34,55,.10);
  --strokeCute: rgba(255,183,198,.22);
  --strokeInk: rgba(63,122,106,.22);

  --shadowSoft: 0 14px 44px rgba(26,18,44,.10);
  --shadowLift: 0 18px 60px rgba(18,12,30,.14);

  --shine: radial-gradient(240px 120px at 20% 0%, rgba(255,207,77,.22), transparent 65%),
           radial-gradient(220px 120px at 82% 0%, rgba(143,125,255,.18), transparent 70%);
  --wash: radial-gradient(720px 360px at 20% 10%, rgba(255,255,255,.28), transparent 70%),
          radial-gradient(780px 420px at 80% 0%, rgba(255,255,255,.16), transparent 75%);
}

/* èƒŒæ™¯æ˜ å°„ï¼šç”¨ä½ ç»™çš„æ¯å›¾é£æ ¼â€œå†ç”Ÿæˆâ€çš„ç»Ÿä¸€ç”»å¸ƒ */
body[data-bg="forest"]{ --bgimg: url('assets/bg_v6_forest.png'); }
body[data-bg="attic"]{ --bgimg: url('assets/bg_v6_attic.png'); }
body[data-bg="umbrella"]{ --bgimg: url('assets/bg_v6_umbrella.png'); }
body[data-bg="film"]{ --bgimg: url('assets/bg_v6_film.png'); }
body[data-bg="beijing"]{ --bgimg: url('assets/bg_v6_pastel_beijing.png'); }

/* ç»Ÿä¸€ç”»å¸ƒå±‚ï¼šèƒŒæ™¯æ°´å½© + æ˜Ÿå°˜ + é‡‘è¾¹æ¡†ï¼ˆå…¨ç«™ä¸€è‡´ï¼‰ */
body:before{
  opacity: .42;
  filter: saturate(1.05) contrast(.98);
}
body:after{
  content:"";
  position:fixed; inset:0;
  pointer-events:none;
  background: url('assets/sparkle_v6_overlay.png');
  background-size: cover;
  background-position:center;
  opacity: .40;
  mix-blend-mode: screen;
}
.wrap:before{
  content:"";
  position:fixed; inset:18px;
  pointer-events:none;
  background: url('assets/frame_v6_overlay.png');
  background-size: 100% 100%;
  opacity: .18;
  filter: saturate(1.1);
}

/* ä¸åŒä¸»é¢˜ä¸‹çš„å­—ä½“ä¸åº•çº¹ */
body[data-bg="forest"]{
  /* ç«¥è¯å¯çˆ±ä¸ºä¸»ï¼Œæ ‡é¢˜å¸¦ä¸€ç‚¹â€œä¹¦å·/å¤é£â€ */
  --fontMain: var(--fontCute);
  --fontDisplay: var(--fontSerif);
  --stroke: rgba(120,95,150,.18);
  --paper: rgba(255,255,255,.82);
  --card: rgba(255,255,255,.70);
  --tex: url('assets/tex_grain.png');
  --fibers: url('assets/tex_fibers.png');
}

body[data-bg="star"],
body[data-bg="day"]{
  --fontMain: var(--fontCute);
  --fontDisplay: var(--fontCute);
  --stroke: var(--strokeCute);
  --paper: var(--paperWarm);
  --card: rgba(255,255,255,.70);
  --tex: url('assets/tex_grain.png');
  --fibers: url('assets/tex_fibers.png');
}
body[data-bg="inkleaf"],
body[data-bg="inkgarden"],
body[data-bg="umbrella"]{
  --fontMain: var(--fontSerif);
  --fontDisplay: var(--fontSerif);
  --stroke: var(--strokeInk);
  --paper: rgba(255,255,255,.80);
  --card: rgba(255,255,255,.68);
  --tex: url('assets/tex_grain.png');
  --fibers: url('assets/tex_fibers.png');
}
body[data-bg="ocean"],
body[data-bg="daydream"]{
  --fontMain: var(--fontCute);
  --fontDisplay: var(--fontCute);
  --stroke: rgba(185,225,255,.28);
  --paper: var(--paperCool);
  --card: rgba(244,252,255,.66);
  --tex: var(--texCool);
  --fibers: var(--fibersCool);
}

/* å…¨å±€èƒŒæ™¯ï¼šçº¸çº¹ + æ°´å½©æ´—è‰² + ä¸»é¢˜å›¾å±‚ */
body{
  font-family: var(--fontMain);
  background-color: var(--bg);
  background-image:
    var(--wash),
    var(--bgimg),
    var(--fibers),
    var(--tex);
  background-size:
    cover,
    cover,
    520px 520px,
    280px 280px;
  background-repeat:
    no-repeat,
    no-repeat,
    repeat,
    repeat;
  background-position:
    center,
    center,
    center,
    center;
}

/* é¡¶éƒ¨ä¸å®¹å™¨ï¼šæ›´åƒâ€œæ‰‹è´¦/èƒ¶ç‰‡â€ */
.topbar{
  background: linear-gradient(180deg, rgba(255,255,255,.72), rgba(255,255,255,.36));
  border: 1px solid var(--strokeSoft);
  box-shadow: var(--shadowSoft);
}
.brand h1{
  font-family: var(--fontDisplay);
  letter-spacing: .6px;
}
.brand .sub{
  opacity: .85;
}

/* å¡ç‰‡ï¼šçº¸çº¹åº• + è½»æè¾¹ + æ›´æŸ”çš„é˜´å½± */
.card{
  background: linear-gradient(180deg, rgba(255,255,255,.80), rgba(255,255,255,.52));
  background-image:
    linear-gradient(180deg, rgba(255,255,255,.70), rgba(255,255,255,.42)),
    var(--fibers),
    var(--tex);
  border: 1px solid var(--strokeSoft);
  box-shadow: var(--shadowSoft);
  backdrop-filter: none; /* è®©â€œçº¸æ„Ÿâ€æ›´åƒæ¯å›¾ï¼Œè€Œä¸æ˜¯ç»ç’ƒ */
  position: relative;
}
.card::before{
  content:"";
  position:absolute; inset:0;
  pointer-events:none;
  background: var(--shine);
  opacity:.55;
  mix-blend-mode: screen;
}

/* åˆ†åŒºå¤´ï¼šåšæˆè´´çº¸æ ‡é¢˜æ¡ */
.section-h{
  background-image:
    linear-gradient(180deg, rgba(255,255,255,.55), rgba(255,255,255,.12)),
    var(--shine),
    var(--fibers);
  border-bottom: 1px solid rgba(43,34,55,.08);
}

/* Tabsï¼šèƒ¶ç‰‡/è´´çº¸æ„Ÿ */
.tabs{
  background: rgba(255,255,255,.46);
  border: 1px solid rgba(43,34,55,.08);
  box-shadow: 0 10px 30px rgba(20,14,34,.06);
}
.tab{
  border: 1px solid rgba(43,34,55,.10);
  background:
    linear-gradient(180deg, rgba(255,255,255,.66), rgba(255,255,255,.28));
  box-shadow: 0 10px 26px rgba(20,14,34,.06);
  transition: transform .12s ease, box-shadow .12s ease;
}
.tab.active{
  transform: translateY(-1px);
  box-shadow: var(--shadowLift);
}

/* æŒ‰é’®ï¼šç»Ÿä¸€â€œçº¸ç‰‡æŒ‰é’®â€ */
.pill, .smallbtn, .typebtn, .iconbtn{
  background-image:
    linear-gradient(180deg, rgba(255,255,255,.70), rgba(255,255,255,.26)),
    var(--tex);
  border: 1px solid rgba(43,34,55,.10);
  box-shadow: 0 10px 26px rgba(20,14,34,.06);
}
.pill.primary{
  border-color: rgba(255,207,77,.45);
  box-shadow: 0 16px 34px rgba(255,207,77,.14);
}

/* è¾“å…¥æ¡†ï¼šçº¸æ„Ÿ + æ›´æŸ”è¾¹æ¡† */
input, textarea, select{
  background-image:
    linear-gradient(180deg, rgba(255,255,255,.86), rgba(255,255,255,.60)),
    var(--fibers);
  border: 1px solid rgba(43,34,55,.12);
}
input:focus, textarea:focus, select:focus{
  box-shadow: 0 0 0 4px rgba(255,207,77,.18);
}

/* èŠå¤©æ°”æ³¡ï¼šæ›´åƒæ’ç”»é‡Œçš„è½¯è¾¹ */
.bubble{
  background-image:
    linear-gradient(180deg, rgba(255,255,255,.76), rgba(255,255,255,.46)),
    var(--tex);
  border: 1px solid rgba(43,34,55,.10);
}
.bubble.mine{
  border-color: rgba(255,183,198,.28);
}

/* ==========================
   v6: ç«¥è¯æ•…äº‹æ„Ÿç»„ä»¶ï¼ˆtab/subbar/å¡ç‰‡/æ²™æ¼/æ²‰æµ¸æ¨¡å¼ï¼‰
   ========================== */

/* æ ‡é¢˜ä¸æ­£æ–‡ï¼šæ›´â€œä¹¦é¡µâ€ */
body{ font-family: var(--fontMain); }
.brand .title h1{ letter-spacing: 1.2px; text-shadow: 0 1px 0 rgba(255,255,255,.6); }
.section-h h2{ letter-spacing: .8px; }

/* å¡ç‰‡ï¼šç¾Šçš®çº¸ + é‡‘è‰²æè¾¹ */
.card{
  background-image:
    linear-gradient(180deg, rgba(255,255,255,.78), rgba(255,255,255,.56)),
    var(--fibers),
    var(--tex);
  border: 1px solid rgba(216,181,109,.28);
}
.section-h{
  background-image: var(--shine), linear-gradient(180deg, rgba(255,255,255,.62), rgba(255,255,255,.45)), var(--tex);
  border-bottom: 1px solid rgba(216,181,109,.18);
}
.badge{ border-color: rgba(216,181,109,.30) !important; }

/* Tabï¼šåƒæ•…äº‹ä¹¦çš„æ ‡ç­¾ */
.tabbar{
  max-width: 980px;
  margin: 0 auto;
  padding: 10px 14px 8px;
  background: transparent;
}
.tab{
  border: 1px solid rgba(216,181,109,.22);
  background-image: linear-gradient(180deg, rgba(255,255,255,.82), rgba(255,255,255,.52)), var(--fibers), var(--tex);
  box-shadow: 0 14px 34px rgba(26,18,44,.10);
  position:relative;
}
.tab:before{
  content:"";
  position:absolute; inset:auto 10px 8px 10px;
  height: 2px;
  background: linear-gradient(90deg, transparent, rgba(216,181,109,.75), transparent);
  opacity:.0;
}
.tab.active{
  border-color: rgba(216,181,109,.48);
  box-shadow: 0 18px 44px rgba(216,181,109,.16);
}
.tab.active:before{ opacity:.85; }

/* Subbarï¼šæ¯é¡µçš„å°å°å·®å¼‚ */
.subbar{
  position: sticky;
  top: 62px;
  z-index: 25;
  background: rgba(255,255,255,.42);
  backdrop-filter: var(--blur);
  border-bottom: 1px solid rgba(216,181,109,.14);
}
.subbar-inner{
  max-width: 980px;
  margin: 0 auto;
  padding: 8px 14px;
  display:flex;
  align-items:center;
  justify-content:space-between;
}
.subgroup{ display:none; gap:8px; align-items:center; flex-wrap:wrap; }
body[data-view="today"] .subgroup[data-for="today"],
body[data-view="records"] .subgroup[data-for="records"],
body[data-view="study"] .subgroup[data-for="study"],
body[data-view="reading"] .subgroup[data-for="reading"],
body[data-view="chat"] .subgroup[data-for="chat"]{ display:flex; }

.chipbtn{
  border: 1px solid rgba(216,181,109,.26);
  border-radius: 999px;
  padding: 8px 12px;
  cursor:pointer;
  background-image: linear-gradient(180deg, rgba(255,255,255,.82), rgba(255,255,255,.56)), var(--fibers);
  box-shadow: 0 10px 26px rgba(26,18,44,.08);
  font-size: 12px;
  color: rgba(43,34,55,.92);
}
.chipbtn.on{ border-color: rgba(143,125,255,.38); box-shadow: 0 16px 34px rgba(143,125,255,.14); }

/* å¿ƒæµæ¨¡å¼ï¼šéšè—å³ä¾§ï¼Œè®©æ•…äº‹æ›´é›†ä¸­ */
body[data-focus="1"] .side{ display:none; }
body[data-focus="1"] .grid{ grid-template-columns: 1fr; }
body[data-reading="1"] #panelComposer{ display:none; }
body[data-reading="1"] .side{ display:none; }
body[data-reading="1"] .grid{ grid-template-columns: 1fr; }

/* æ²™æ¼é¢æ¿ */
.focusBox{
  display:grid;
  grid-template-columns: 0.9fr 1.1fr;
  gap: 12px;
}
@media (max-width: 820px){ .focusBox{ grid-template-columns: 1fr; } }
.hg{
  border-radius: 22px;
  border: 1px solid rgba(216,181,109,.24);
  background-image: linear-gradient(180deg, rgba(255,255,255,.72), rgba(255,255,255,.46)), var(--tex);
  padding: 16px;
  text-align:center;
}
.hgTitle{ font-size:12px; color: rgba(43,34,55,.72); }
.hgTime{ font-size: 44px; font-family: var(--fontSerif); letter-spacing: 1px; margin-top:6px; }
.hgBar{ height: 10px; border-radius: 999px; border:1px solid rgba(216,181,109,.22); overflow:hidden; margin-top:12px; background: rgba(255,255,255,.55); }
.hgFill{ height:100%; background: linear-gradient(90deg, rgba(255,207,77,.85), rgba(143,125,255,.45)); width:0%; }
.focusCtl{ padding: 8px 0; }

</style>
</head>
<body>
  <div class="wrap">

    <div class="topbar">
      <div class="topbar-inner">
        <div class="brand">
          <div class="mark">ğŸ°</div>
          <div class="title">
          <h1>æ˜Ÿå¦ç§˜å¯†å°å±‹ Â· v6</h1>
            <p id="subtitle">å®‡å®™ç”Ÿç”Ÿä¸æ¯ï¼Œç¥ä½ åšä¸ªå¥½æ¢¦</p>
          </div>
        </div>

        <div class="presence">
          <div class="pill" title="åªè¦ä½ ä»¬ä¿©ç”¨åŒä¸€ä¸ªé‚€è¯·ç ï¼Œå°±èƒ½åœ¨ä¸¤å°ç”µè„‘å®æ—¶åŒæ­¥ï¼ˆéœ€è¦ Supabase é…ç½®ï¼‰">
            <span class="dot"></span>
            <span style="font-size:12px;color:var(--muted)">æ¬¢è¿å›å®¶ Â· è¿™é‡Œä¸ä¼šæœ‰ç¬¬ä¸‰ä¸ªäººæ‰“æ‰°</span>
          </div>

          <div class="seg" aria-label="å½“å‰èº«ä»½">
            <button id="btnStar" class="active" type="button">ğŸ§¸ æ˜Ÿæ˜Ÿ</button>
            <button id="btnYan" type="button">âš”ï¸ å°å¦</button>
          </div>

          <div class="actions">
            <button class="iconbtn" id="btnExport" type="button" title="å¯¼å‡ºä¸º JSON å¤‡ä»½">ğŸ“¤ å¯¼å‡º</button>
            <button class="iconbtn" id="btnSettings" type="button" title="èƒŒæ™¯/è”æœº/è¡¨æƒ…">ğŸ  å°å±‹</button>
          </div>
        </div>
      </div>
    </div>

    <div class="tabs">
      <div class="tabbar" role="tablist" aria-label="é¡µé¢">
        <button class="tab active" data-tab="today" type="button">ğŸŒ¸ ä»Šå¤©</button>
        <button class="tab" data-tab="records" type="button">ğŸ“œ è®°å½•</button>
        <button class="tab" data-tab="study" type="button">ğŸ“š å¤‡è€ƒ</button>
        <button class="tab" data-tab="reading" type="button">ğŸ“– é˜…è¯»</button>
        <button class="tab" data-tab="chat" type="button">ğŸ’¬ èŠå¤©</button>
      </div>
    </div>

    <!-- v6: sub tools (æ¯ä¸ªé¡µé¢éƒ½æœ‰ä¸€ç‚¹ç‚¹ä¸ä¸€æ ·çš„â€œå°åŠŸèƒ½â€) -->
    <div class="subbar" aria-label="é¡µé¢å¿«æ·æ“ä½œ">
      <div class="subbar-inner">
        <div class="subgroup" data-for="today">
          <button class="chipbtn" id="quickDaily" type="button">ğŸµ å¿«å†™æ—¥å¸¸</button>
          <button class="chipbtn" id="quickNote" type="button">ğŸ’Œ å¿«å†™çº¸æ¡</button>
          <button class="chipbtn" id="toggleFocus" type="button">ğŸ•¯ï¸ å¿ƒæµæ¨¡å¼</button>
        </div>
        <div class="subgroup" data-for="records">
          <button class="chipbtn" id="filterAll" type="button">ğŸ“œ å…¨éƒ¨</button>
          <button class="chipbtn" id="filterStar" type="button">â­ åªçœ‹æ˜Ÿæ˜Ÿ</button>
          <button class="chipbtn" id="filterYan" type="button">âš”ï¸ åªçœ‹å°å¦</button>
          <button class="chipbtn" id="filterVoice" type="button">ğŸ™ï¸ åªçœ‹è¯­éŸ³</button>
        </div>
        <div class="subgroup" data-for="study">
          <button class="chipbtn" id="openHourglass" type="button">â³ é­”æ³•æ²™æ¼</button>
          <button class="chipbtn" id="quickStudy" type="button">ğŸ§  å¿«è®°å¤‡è€ƒ</button>
          <button class="chipbtn" id="toggleFocus2" type="button">ğŸ•¯ï¸ å¿ƒæµæ¨¡å¼</button>
        </div>
        <div class="subgroup" data-for="reading">
          <button class="chipbtn" id="toggleReading" type="button">ğŸ“– æ²‰æµ¸é˜…è¯»</button>
          <button class="chipbtn" id="quickReading" type="button">ğŸ“š å¿«å†™è¯»ä¹¦</button>
          <button class="chipbtn" id="toggleFocus3" type="button">ğŸ•¯ï¸ å¿ƒæµæ¨¡å¼</button>
        </div>
        <div class="subgroup" data-for="chat">
          <button class="chipbtn" id="chatPing" type="button">ğŸŒ™ æˆ‘åœ¨</button>
          <button class="chipbtn" id="chatHug" type="button">ğŸ«¶ æŠ±æŠ±</button>
          <button class="chipbtn" id="chatClear" type="button">ğŸ§¼ æ¸…å±</button>
        </div>
      </div>
    </div>

    <div class="grid">
      <div class="timeline">

        <div class="card" id="panelComposer">
          <div class="section-h">
            <div class="left">
              <div class="badge">âœï¸</div>
              <div>
                <h2>å†™ä¸€æ¡ Â· è®©å¿ƒæƒ…æœ‰åœ°æ–¹è½è„š</h2>
                <p id="composerHint">æ˜Ÿæ˜Ÿä¼šæ‰æ˜Ÿæ˜Ÿï¼Œå°å¦ä¼šæœ‰å‰‘æ°”ä¸å¶å½±ï¼ˆå¯é€‰è¡¨æƒ…/è¯­éŸ³ï¼‰ã€‚</p>
              </div>
            </div>
            <button class="ghost" id="btnClear" type="button" title="æ¸…ç©ºè¾“å…¥">æ¸…ç©º</button>
          </div>

          <div class="section-body">
            <div class="composer">
              <div class="miniAva"><img id="composerAvatar" src="assets/avatar_star.png" alt="avatar"></div>
              <div class="col">
                <div class="row" style="justify-content:space-between;">
                  <div class="typepick" id="typePick">
                    <button class="typebtn active" data-type="daily" type="button">ğŸµ æ—¥å¸¸</button>
                    <button class="typebtn" data-type="study" type="button">ğŸ§  å¤‡è€ƒ</button>
                    <button class="typebtn" data-type="reading" type="button">ğŸ“š é˜…è¯»æ„Ÿæƒ³</button>
                    <button class="typebtn" data-type="note" type="button">ğŸ’Œ å°çº¸æ¡</button>
                  </div>
                </div>

                <div id="formDaily" style="margin-top:10px;">
                  <div class="row">
                    <div style="flex:1; min-width: 140px;">
                      <label>â˜€ï¸ èµ·åºŠæ—¶é—´</label>
                      <input id="wakeTime" type="time" />
                    </div>
                    <div style="flex:1; min-width: 160px;">
                      <label>ğŸ˜Š ä»Šæ—¥å¿ƒæƒ…</label>
                      <select id="moodSel">
                        <option value="ğŸ˜Š">ğŸ˜Š å¼€å¿ƒ</option>
                        <option value="ğŸ¥°">ğŸ¥° è¢«çˆ±ç€</option>
                        <option value="ğŸ’ª">ğŸ’ª æœ‰åŠ›é‡</option>
                        <option value="ğŸ˜Œ">ğŸ˜Œ å¹³é™</option>
                        <option value="ğŸ¥±">ğŸ¥± å›°å›°</option>
                        <option value="ğŸ˜¤">ğŸ˜¤ å°ç”Ÿæ°”</option>
                        <option value="ğŸ˜¢">ğŸ˜¢ æƒ³å“­</option>
                      </select>
                    </div>
                  </div>
                  <label style="margin-top:10px;">âœï¸ è¯´ä¸€å¥ï¼ˆå¯å¤šå†™å‡ æ¡ä¹Ÿè¡Œï¼‰</label>
                  <textarea id="dailyText" placeholder="æ¯”å¦‚ï¼šä»Šå¤©èƒŒäº†50ä¸ªè¯ï¼æƒ³è¦ä¸€ä¸ªæŠ±æŠ± ğŸ«¶\næ¯”å¦‚ï¼šèµ·åºŠæœ‰ç‚¹éš¾ï¼Œä½†æˆ‘åšåˆ°äº†ã€‚" rows="4"></textarea>
                </div>

                <div id="formStudy" class="hidden" style="margin-top:10px;">
                  <div class="row">
                    <div style="flex:1;">
                      <label>åšäº†ä»€ä¹ˆé¢˜ï¼ˆå¿…å¡«ï¼‰</label>
                      <input id="studySource" placeholder="å¦‚ï¼š2024 å›½è€ƒçœŸé¢˜ / ä¸“é¡¹" />
                    </div>
                  </div>
                  <div class="row">
                    <div style="flex:1; min-width: 120px;">
                      <label>é¢˜é‡</label>
                      <input id="studyCount" type="number" placeholder="20" />
                    </div>
                    <div style="flex:1; min-width: 120px;">
                      <label>ç”¨æ—¶(åˆ†)</label>
                      <input id="studyMin" type="number" placeholder="45" />
                    </div>
                    <div style="flex:1; min-width: 120px;">
                      <label>æ­£ç¡®ç‡(%)</label>
                      <input id="studyAcc" type="number" placeholder="85" />
                    </div>
                  </div>
                  <div class="row">
                    <div style="flex:1;">
                      <label>è¡Œæµ‹æ¨¡å—ï¼ˆå¯é€‰ï¼‰</label>
                      <select id="studyModule">
                        <option value="">â€” é€‰æ‹© â€”</option>
                        <option value="è¨€è¯­">è¨€è¯­</option>
                        <option value="åˆ¤æ–­-å›¾æ¨">åˆ¤æ–­ Â· å›¾æ¨</option>
                        <option value="åˆ¤æ–­-å®šä¹‰">åˆ¤æ–­ Â· å®šä¹‰</option>
                        <option value="åˆ¤æ–­-ç±»æ¯”">åˆ¤æ–­ Â· ç±»æ¯”</option>
                        <option value="åˆ¤æ–­-åŠ å¼ºå‰Šå¼±">åˆ¤æ–­ Â· åŠ å¼ºå‰Šå¼±</option>
                        <option value="èµ„æ–™">èµ„æ–™</option>
                        <option value="æ•°é‡">æ•°é‡</option>
                      </select>
                    </div>
                    <div style="flex:1;">
                      <label>ä»Šå¤©æœ‰æ²¡æœ‰å¤ç›˜ï¼ˆå¾ˆé‡è¦ï¼‰</label>
                      <select id="reviewStatus">
                        <option value="done">âœ… å·²å¤ç›˜</option>
                        <option value="partial">ğŸŒ“ éƒ¨åˆ†å¤ç›˜</option>
                        <option value="none">ğŸŒ«ï¸ æœªå¤ç›˜ï¼ˆå†™ä¸€å¥æ˜å¤©æ€ä¹ˆå¤ï¼‰</option>
                      </select>
                    </div>
                  </div>
                  <label style="margin-top:10px;">ğŸ“ å¤ç›˜å†…å®¹ / æ˜å¤©æ€ä¹ˆæ”¹</label>
                  <textarea id="reviewText" placeholder="ä¸‰è¡Œæ€»ç»“ + æ˜å¤©æ€ä¹ˆæ”¹ï¼ˆè¶Šå…·ä½“è¶Šå¥½ï¼‰" rows="4"></textarea>
                </div>

                <div id="formReading" class="hidden" style="margin-top:10px;">
                  <div class="row">
                    <div style="flex:1;">
                      <label>ä¹¦å</label>
                      <input id="bookTitle" placeholder="å¦‚ï¼šè¢«è®¨åŒçš„å‹‡æ°”" />
                    </div>
                    <div style="flex:1; min-width: 140px;">
                      <label>ç« èŠ‚</label>
                      <input id="bookChapter" placeholder="å¦‚ï¼šç¬¬3ç« " />
                    </div>
                  </div>
                  <label style="margin-top:10px;">ğŸ“Œ ä¹¦æ‘˜ï¼ˆå¯é€‰ï¼‰</label>
                  <textarea id="bookQuote" placeholder="æ‘˜ä¸€å¥æœ€æ‰“åŠ¨ä½ çš„è¯" rows="2"></textarea>
                  <label style="margin-top:10px;">ğŸ’­ æˆ‘çš„æ„Ÿæƒ³ï¼ˆå¿…å¡«ï¼‰</label>
                  <textarea id="bookThought" placeholder="å†™ä¸‹ä½ çš„æ„Ÿæƒ³ï¼ˆå¯ä»¥å¾ˆå°å¾ˆè½¯ï¼Œä¹Ÿå¯ä»¥å¾ˆé”‹åˆ©ï¼‰" rows="4"></textarea>
                  <label style="margin-top:10px;">â“ æƒ³é—®TAçš„é—®é¢˜ï¼ˆå¼ºçƒˆæ¨èï¼‰</label>
                  <input id="bookQ" placeholder="æ¯”å¦‚ï¼šä½ è§‰å¾—è¿™å¥è¯åœ¨ç”Ÿæ´»é‡Œæ€ä¹ˆå®è·µï¼Ÿ" />
                </div>

                <div id="formNote" class="hidden" style="margin-top:10px;">
                  <label>ğŸ’Œ ç»™TAçš„ä¸€å¼ å°çº¸æ¡</label>
                  <textarea id="noteText" placeholder="æ¯”å¦‚ï¼šä»Šæ™šæˆ‘åœ¨ã€‚æŠ±æŠ±ä½ ã€‚\næ¯”å¦‚ï¼šä½ ä»Šå¤©è¶…æ£’ï¼Œæˆ‘æƒ³ç»™ä½ ä¸€é¢—æ˜Ÿæ˜Ÿã€‚" rows="4"></textarea>
                </div>

                <div class="tools">
                  <div class="reactbar" id="emojiBar"></div>

                  <div class="row" style="gap:10px;">
                    <div class="rec" title="ç‚¹å‡»å¼€å§‹å½•éŸ³ï¼Œå†ç‚¹ä¸€æ¬¡ç»“æŸï¼ˆæµè§ˆå™¨ä¼šè¯¢é—®éº¦å…‹é£æƒé™ï¼‰">
                      <button id="btnRec" type="button" aria-label="å¼€å§‹å½•éŸ³">ğŸ™ï¸</button>
                      <div class="bar"><i id="recFill"></i></div>
                      <span class="small" id="recLabel">è¯­éŸ³</span>
                    </div>
                    <button class="primary" id="btnPost" type="button">âœ¨ å‘å¸ƒ</button>
                  </div>
                </div>

                <div class="hint" style="margin-top:10px;">æç¤ºï¼šæœ¬åœ°æ‰“å¼€ä¹Ÿèƒ½ç”¨ï¼ˆç¦»çº¿åªå­˜åœ¨æœ¬æœºï¼‰ã€‚è¦ä¸¤å°ç”µè„‘åŒæ­¥ï¼šåœ¨â€œå°å±‹â€é‡Œå¡« Supabase URL å’Œ publishable keyã€‚</div>
              </div>
            </div>
          </div>
        </div>

        <div class="card" id="panelFeed">
          <div class="section-h">
            <div class="left">
              <div class="badge">ğŸ“œ</div>
              <div>
                <h2>æ—¶é—´è½´ Â· ä½ ä»¬çš„å¿ƒæƒ…ä¸åŠªåŠ›</h2>
                <p id="feedSub">ç•™è¨€ä¼šå¸¦ç€å¤´åƒä¸ä¸“å±å…ƒç´ å‡ºç°ï¼šæ˜Ÿæ˜Ÿæœ‰æ˜Ÿå…‰ï¼Œå°å¦æœ‰å‰‘ä¸å¶ã€‚</p>
              </div>
            </div>
            <button class="ghost" id="btnRefresh" type="button" title="åˆ·æ–°">åˆ·æ–°</button>
          </div>
          <div class="section-body" id="feed"></div>
        </div>

        <div class="card hidden" id="panelChat">
          <div class="section-h">
            <div class="left">
              <div class="badge">ğŸ’¬</div>
              <div>
                <h2>èŠå¤©å®¤ Â· åªå±äºä½ ä»¬ä¿©</h2>
                <p id="chatSub">å®æ—¶åŒæ­¥ï¼šç¦»çº¿åŒæœºå¤šæ ‡ç­¾ / è”æœºä¸¤å°ç”µè„‘</p>
              </div>
            </div>
            <button class="ghost" id="btnChatBottom" type="button" title="æ»šåˆ°æœ€æ–°">æœ€æ–°</button>
          </div>
          <div class="section-body">
            <div id="chatList" class="chatList"></div>
            <div id="chatReplyBar" class="replyBar hidden">
              <div class="rt" id="chatReplyText">å›å¤ï¼š</div>
              <button class="rc" id="chatReplyCancel" type="button">å–æ¶ˆ</button>
            </div>
            <div class="row" style="gap:10px; margin-top:10px;">
              <textarea id="chatInput" placeholder="åœ¨è¿™é‡Œè¯´ä¸€å¥â€¦ï¼ˆæ”¯æŒè¡¨æƒ…ï¼‰" rows="2" style="flex:1;"></textarea>
              <button class="primary" id="chatSend" type="button">å‘é€</button>
            </div>
            <div class="hint" style="margin-top:8px;">æç¤ºï¼šè¯„è®ºåŒºç”¨äºâ€œé’ˆå¯¹æŸæ¡è®°å½•å›å¤â€ï¼›èŠå¤©å®¤ç”¨äºâ€œéšæ—¶èŠå¤©â€ã€‚</div>
          </div>
        </div>


      </div>

      <div class="side">

        <div class="card" id="panelCalendar">
          <div class="section-h">
            <div class="left">
              <div class="badge">ğŸ“…</div>
              <div>
                <h2>æœˆå† Â· è½»è½»çš„è®°å½•æ„Ÿ</h2>
                <p>åƒä½ ç»™çš„å‚è€ƒé‚£æ ·ï¼šå°åœ†ç‚¹ + å›¾æ ‡æç¤ºå½“å¤©çš„æ•…äº‹ã€‚</p>
              </div>
            </div>
          </div>
          <div class="section-body">
            <div class="cal">
              <div class="top">
                <div class="month" id="calMonth">2025 Â· 01</div>
                <div class="nav">
                  <button id="calPrev" type="button">â—€</button>
                  <button id="calNext" type="button">â–¶</button>
                </div>
              </div>
              <div class="calgrid" id="calDow"></div>
              <div class="calgrid" id="calGrid"></div>
              <div class="calnote" id="calNote">ç‚¹ä¸€å¤©ä¼šç­›å‡ºå½“æ—¥è®°å½•ï¼ˆåœ¨å·¦ä¾§æ—¶é—´è½´ï¼‰ã€‚</div>
            </div>
          </div>
        </div>

        <div class="card" id="panelThemes">
          <div class="section-h">
            <div class="left">
              <div class="badge">ğŸ¨</div>
              <div>
                <h2>ä¸»èƒŒæ™¯ Â· å…”å­æ£®æ—ï¼ˆç«¥è¯åº•è‰² + å¤é£ç»†èŠ‚ï¼‰</h2>
                <p>ä¸ºä¿è¯ã€Œæ•…äº‹è¿ç»­æ„Ÿã€ï¼šv6 é»˜è®¤åªä¿ç•™ä¸€ä¸ªä¸»ç”»å¸ƒï¼ˆä¸å†æ–­æ–­ç»­ç»­æ¢çš®ï¼‰ã€‚</p>
              </div>
            </div>
          </div>
          <div class="section-body">
            <div class="themes" id="themeGrid"></div>
          </div>
        </div>

        <div class="card" id="panelOnline">
          <div class="section-h">
            <div class="left">
              <div class="badge">ğŸ§·</div>
              <div>
                <h2>è”æœº Â· çº¯é‚€è¯·ç ï¼ˆæ›´ç®€å•ï¼‰</h2>
                <p>å¡«å¥½ Supabase åï¼Œä¸¤å°ç”µè„‘è¾“å…¥åŒä¸€ä¸ªé‚€è¯·ç å³å¯åŒæ­¥ã€‚</p>
              </div>
            </div>
          </div>
          <div class="section-body">
            <div class="row">
              <div style="flex:1;">
                <label>é‚€è¯·ç ï¼ˆ6ä½ï¼‰</label>
                <input id="roomCode" inputmode="numeric" placeholder="ä¾‹å¦‚ï¼š314159" maxlength="6" />
              </div>
              <button class="primary" id="btnJoin" type="button">ğŸ”’ è¿›å…¥</button>
            </div>
            <div class="row" style="margin-top:10px;">
              <div style="flex:1;">
                <label>Supabase URLï¼ˆå¯é€‰ï¼‰</label>
                <input id="sbUrl" placeholder="https://xxxx.supabase.co" />
              </div>
            </div>
            <div class="row" style="margin-top:10px;">
              <div style="flex:1;">
                <label>Publishable keyï¼ˆå¯é€‰ï¼‰</label>
                <input id="sbKey" placeholder="sb_publishable_..." />
              </div>
            </div>
            <div class="row" style="margin-top:10px; justify-content:space-between;">
              <span class="hint" id="onlineState">å½“å‰ï¼šç¦»çº¿æœ¬åœ°æ¨¡å¼ï¼ˆåªåœ¨æœ¬æœºä¿å­˜ï¼‰</span>
              <button class="ghost" id="btnTest" type="button">æµ‹è¯•è¿æ¥</button>
            </div>
          </div>
        </div>

        
      </div>
    </div>

    <div class="foothelp">ğŸ’› æ˜Ÿæ˜Ÿä¼šæœ‰æ˜Ÿæ˜Ÿï¼ŒğŸŒ¿ å°å¦ä¼šæœ‰å‰‘ä¸å¶ â€”â€” ä½ ä»¬è¯´çš„æ‰€æœ‰åŸºè°ƒéƒ½åœ¨è¿™é‡Œï¼šç¡å‰æ²»æ„ˆã€å¯çˆ±å¤å…¸ã€åŒäººç§å¯†ã€‚ </div>

    <!-- Welcome overlay -->
    <div class="modal-backdrop" id="welcome">
      <div class="modal" role="dialog" aria-modal="true" aria-label="æ¬¢è¿æ¥åˆ°ç§˜å¯†å°å±‹">
        <div class="modal-top">
          <div class="copy">
            <h3>âœ¨ æ¬¢è¿å›å®¶ Â· è¿™é‡Œä¸ä¼šæœ‰ç¬¬ä¸‰ä¸ªäººæ‰“æ‰° âœ¨</h3>
            <p>é€‰â€œæˆ‘æ˜¯è°â€ â†’ è¾“å…¥åŒä¸€ä¸ªé‚€è¯·ç  â†’ è¿›å…¥ã€‚è”æœºæƒ³åŒæ­¥ï¼šå†å»å°å±‹é‡Œå¡« Supabaseã€‚</p>
          </div>
          <button class="ghost" id="btnCloseWelcome" type="button">å…ˆçœ‹çœ‹</button>
        </div>

        <div class="modal-main">
          <div class="hero">
            <div class="line" style="font-family:var(--fontSerif); font-weight:900;">ğŸ° æ˜Ÿæ˜Ÿ & å°å¦ ã® ç§˜å¯†å°å±‹</div>
            <div class="line">å®‡å®™ç”Ÿç”Ÿä¸æ¯ï¼Œä»Šæ™šåšä¸ªå¥½æ¢¦ã€‚</div>
            <div class="line">ä½ ä»¬çš„ç•™è¨€ä¼šå¸¦ç€ä¸“å±å…ƒç´ å‡ºç°ï¼šâ­ æ˜Ÿæ˜Ÿã€âš”ï¸ å‰‘æ°”ã€ğŸŒ¿ å¶å½±ã€ğŸ§¸ å°ç†Šã€‚</div>
            <div class="join" style="margin-top:8px;">
              <div class="field">
                <label>é‚€è¯·ç ï¼ˆ6ä½ï¼‰</label>
                <input id="welcomeCode" inputmode="numeric" placeholder="ä¾‹å¦‚ï¼š314159" maxlength="6" />
              </div>
              <button class="primary" id="btnWelcomeJoin" type="button">è¿›å…¥</button>
              <button class="ghost" id="btnWelcomeGen" type="button">éšæœºç”Ÿæˆ</button>
            </div>
            <div class="hint">çº¯é‚€è¯·ç  = æ›´ç®€å•ï¼ˆå®‰å…¨æ€§ä¸€èˆ¬ï¼‰ã€‚æ­£å¼ç‰ˆå¯å†åŠ é‚®ç®±ç»‘å®šã€‚</div>
          </div>

          <div class="hero">
            <div class="line" style="font-family:var(--fontSerif); font-weight:900;">é€‰æ‹©ä½ æ˜¯è°</div>
            <div class="twopick">
              <div class="who star active" id="pickStar" tabindex="0" role="button" aria-label="é€‰æ‹©æ˜Ÿæ˜Ÿ">
                <div class="avatar"><img src="assets/avatar_star.png" alt="æ˜Ÿæ˜Ÿå¤´åƒ"></div>
                <div class="meta">
                  <div class="name">æ˜Ÿæ˜Ÿâœ¨å¸ƒçµå¸ƒçµ</div>
                  <div class="desc">å¯çˆ±å°å¥³å­© Â· é•¿å‘å…¬ä¸» Â· æŠ±ç€å°ç†Š</div>
                  <div class="chips">
                    <span class="chip">â­ æ˜Ÿæ˜Ÿå…ƒç´ </span>
                    <span class="chip">ğŸ§¸ æ²»æ„ˆæŠ±æŠ±</span>
                    <span class="chip">ğŸ’— ç”œç”œç²‰</span>
                  </div>
                </div>
              </div>

              <div class="who yan" id="pickYan" tabindex="0" role="button" aria-label="é€‰æ‹©å°å¦">
                <div class="avatar"><img src="assets/avatar_yan.png" alt="å°å¦å¤´åƒ"></div>
                <div class="meta">
                  <div class="name">å°å¦å¬åˆ°è¯·å›ç­”</div>
                  <div class="desc">é­”æ³•å°‘å¥³ Ã— æ­¦ä¾ å°‘å¥³ Â· æœˆå…‰å‰‘å£«</div>
                  <div class="chips">
                    <span class="chip">âš”ï¸ å‰‘æ°”</span>
                    <span class="chip">ğŸŒ¿ å¶å½±</span>
                    <span class="chip">ğŸ“œ æ–‡è‰ºå¤é£</span>
                  </div>
                </div>
              </div>
            </div>

            <div class="hint" style="margin-top:8px;">è¿›å…¥åï¼šå³ä¸Šè§’å¯ä»¥éšæ—¶åˆ‡æ¢èº«ä»½ï¼ˆå› ä¸ºä½ ä»¬åªæœ‰ä¸¤ä¸ªäººï¼‰ã€‚</div>
          </div>
        </div>
      </div>
    </div>

    <!-- v6: é­”æ³•æ²™æ¼ / å¿ƒæµå°ç­‘ï¼ˆä»…åšè½»é‡è®¡æ—¶ï¼Œä¸å½±å“åŸæœ‰æ•°æ®ï¼‰ -->
    <div class="modal-backdrop" id="focusModal" aria-hidden="true">
      <div class="modal" role="dialog" aria-modal="true" aria-label="é­”æ³•æ²™æ¼">
        <div class="modal-top">
          <div class="copy">
            <h3>â³ é­”æ³•æ²™æ¼ Â· å¿ƒæµæ¨¡å¼</h3>
            <p>ç»™è‡ªå·±ä¸€æ®µå®‰é™çš„æ—¶é—´ï¼šä¸æ”¹ä»»ä½•åŠŸèƒ½ï¼Œåªè®©ç•Œé¢æ›´â€œæ²‰è¿›å»â€ã€‚</p>
          </div>
          <button class="ghost" id="btnCloseFocus" type="button">å…³é—­</button>
        </div>

        <div class="modal-main" style="grid-template-columns: 1fr;">
          <div class="focusBox">
            <div class="hg">
              <div class="hgTitle">æ²™æ¼å‰©ä½™</div>
              <div class="hgTime" id="hgTime">25:00</div>
              <div class="hgBar"><div class="hgFill" id="hgFill" style="width:0%"></div></div>
            </div>
            <div class="focusCtl">
              <div class="row" style="gap:10px; align-items:flex-end;">
                <div style="flex:1; min-width: 160px;">
                  <label>æ—¶é•¿ï¼ˆåˆ†é’Ÿï¼‰</label>
                  <input id="hgMin" type="number" min="5" max="180" value="25" />
                </div>
                <div style="flex:1; min-width: 160px;">
                  <label>å°ç›®æ ‡ï¼ˆå¯é€‰ï¼‰</label>
                  <input id="hgGoal" placeholder="æ¯”å¦‚ï¼šè¡Œæµ‹20é¢˜ / é˜…è¯»20é¡µ" />
                </div>
              </div>
              <div class="row" style="gap:10px; margin-top:10px;">
                <button class="primary" id="hgStart" type="button">å¼€å§‹</button>
                <button class="ghost" id="hgPause" type="button">æš‚åœ</button>
                <button class="ghost" id="hgReset" type="button">é‡ç½®</button>
                <button class="ghost" id="hgSendNote" type="button">å†™ä¸€æ¡â€œæˆ‘åšåˆ°äº†â€</button>
              </div>
              <div class="hint" id="hgHint" style="margin-top:10px;">ä½ å¯ä»¥æŠŠå³ä¾§æ éšè—ï¼Œè®©æ³¨æ„åŠ›å›åˆ°å±å¹•ä¸­å¤®ã€‚</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="toast" id="toast"></div>

  </div>

  <!-- Supabase client (optional online sync) -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="app.js"></script>
</body>
</html>
